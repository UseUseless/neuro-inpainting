"""–§–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø—É—Ç–∏, –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π)"""

import torch
from pathlib import Path

# === üìÇ –ü—É—Ç–∏ –∫ –ø–∞–ø–∫–∞–º ===
BASE_DIR = Path(__file__).parent

# –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–≤–æ–∏ 100–∫ —Ñ–æ—Ç–æ)
INPUT_DIR = BASE_DIR / "images_input"

# –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—á–∏—Å—Ç—ã–µ —Ñ–æ—Ç–æ)
OUTPUT_DIR = BASE_DIR / "images_cleaned"

# –ü–∞–ø–∫–∞ –¥–ª—è –ª–æ–≥–æ–≤
LOG_DIR = BASE_DIR / "logs"

# –ü–∞–ø–∫–∞, –≥–¥–µ –ª–µ–∂–∞—Ç –≤–µ—Å–∞ –º–æ–¥–µ–ª–µ–π
MODELS_DIR = BASE_DIR / "models"

# === üß† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ú–æ–¥–µ–ª–µ–π ===

# 1. DETECTOR (YOLO)
YOLO_MODEL_NAME = "yolo11n.pt"
# –°—é–¥–∞ —Ç—ã –¥–æ–ª–∂–µ–Ω –±—É–¥–µ—à—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π best.pt –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è
YOLO_MODEL_PATH = MODELS_DIR / "best.pt"
YOLO_CONFIDENCE = 0.25  # –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (–µ—Å–ª–∏ < 25%, —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ —Ç–≤–æ–µ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–µ—Ç)

# 2. SEGMENTER (SAM 2)
# –ú–æ–¥–µ–ª—å —Å–∫–∞—á–∞–µ—Ç—Å—è —Å–∞–º–∞, –Ω–æ –∏–º—è —É–∫–∞–∂–µ–º –∑–¥–µ—Å—å
SAM_MODEL_NAME = "sam2.1_b.pt" # b = base (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏/–∫–∞—á–µ—Å—Ç–≤–∞)

# === ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ===
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã
DEVICE = "cuda" if torch.cuda.is_available() else "cpu"

# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫–∏, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
def setup_directories():
    for path in [INPUT_DIR, OUTPUT_DIR, LOG_DIR, MODELS_DIR]:
        path.mkdir(parents=True, exist_ok=True)

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
setup_directories()